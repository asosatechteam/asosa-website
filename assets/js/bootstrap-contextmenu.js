!function(a){"use strict";var b='[data-toggle="context"]',c=function(b,c){this.$element=a(b),this.before=c.before||this.before,this.onItem=c.onItem||this.onItem,this.scopes=c.scopes||null,c.target&&this.$element.data("target",c.target),this.listen()};c.prototype={constructor:c,show:function(b){var c,d,e,f={relatedTarget:this,target:b.currentTarget};if(!this.isDisabled()&&(this.closemenu(),!1!==this.before.call(this,b,a(b.currentTarget))))return c=this.getMenu(),c.trigger(a.Event("show.bs.context",f)),d=this.getPosition(b,c),e="li:not(.divider)",c.attr("style","").css(d).addClass("open").on("click.context.data-api",e,a.proxy(this.onItem,this,a(b.currentTarget))).trigger("shown.bs.context",f),a("html").on("click.context.data-api",c.selector,a.proxy(this.closemenu,this)),!1},closemenu:function(b){var c,d,e;c=this.getMenu(),c.hasClass("open")&&(e={relatedTarget:this},c.trigger(a.Event("hide.bs.context",e)),d="li:not(.divider)",c.removeClass("open").off("click.context.data-api",d).trigger("hidden.bs.context",e),a("html").off("click.context.data-api",c.selector),b.stopPropagation())},keydown:function(a){27==a.which&&this.closemenu(a)},before:function(a){return!0},onItem:function(a){return!0},listen:function(){this.$element.on("contextmenu.context.data-api",this.scopes,a.proxy(this.show,this)),a("html").on("click.context.data-api",a.proxy(this.closemenu,this)),a("html").on("keydown.context.data-api",a.proxy(this.keydown,this))},destroy:function(){this.$element.off(".context.data-api").removeData("context"),a("html").off(".context.data-api")},isDisabled:function(){return this.$element.hasClass("disabled")||this.$element.attr("disabled")},getMenu:function(){var b,c=this.$element.data("target");return c||(c=this.$element.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,"")),b=a(c),b&&b.length?b:this.$element.find(c)},getPosition:function(b,c){var d,e,f,g=b.clientX,h=b.clientY,i=a(window).width(),j=a(window).height(),k=c.find(".dropdown-menu").outerWidth(),l=c.find(".dropdown-menu").outerHeight(),m={position:"absolute","z-index":9999};return d=h+l>j?{top:h-l+a(window).scrollTop()}:{top:h+a(window).scrollTop()},e=g+k>i&&g-k>0?{left:g-k+a(window).scrollLeft()}:{left:g+a(window).scrollLeft()},f=c.offsetParent().offset(),e.left=e.left-f.left,d.top=d.top-f.top,a.extend(m,d,e)}},a.fn.contextmenu=function(b,d){return this.each(function(){var e=a(this),f=e.data("context"),g="object"==typeof b&&b;f||e.data("context",f=new c(e,g)),"string"==typeof b&&f[b].call(f,d)})},a.fn.contextmenu.Constructor=c,a(document).on("contextmenu.context.data-api",function(){a(b).each(function(){var b=a(this).data("context");b&&b.closemenu()})}).on("contextmenu.context.data-api",b,function(b){a(this).contextmenu("show",b),b.preventDefault(),b.stopPropagation()})}(jQuery);