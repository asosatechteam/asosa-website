define(["jquery"],function(){!function(a){"use strict";a.fn.waterwheelCarousel=function(b){function c(){t={itemsContainer:a(r),totalItems:a(r).find("img").length,containerWidth:a(r).width(),containerHeight:a(r).height(),currentCenterItem:null,previousCenterItem:null,autoPlay:4e3,items:[],calculations:[],carouselRotationsLeft:0,currentlyMoving:!1,itemsAnimating:0,currentSpeed:s.speed,intervalTimer:null,currentDirection:"forward",leftItemsCount:0,rightItemsCount:0,performingSetup:!0},t.itemsContainer.find("img").removeClass(s.activeClassName)}function d(a){clearTimeout(t.autoPlayTimer),a||0===s.autoPlay||(t.autoPlayTimer=setTimeout(function(){q(s.autoPlay>0?"forward":"backward")},Math.abs(s.autoPlay)))}function e(b){if(!1===s.preloadImages)return void b();var c=t.itemsContainer.find("img"),d=0,e=c.length;c.each(function(){a(this).bind("load",function(){if((d+=1)===e)return void b()}),a(this).attr("src",a(this).attr("src")),this.complete&&a(this).trigger("load")})}function f(){t.itemsContainer.find("img").each(function(){(void 0==a(this).data("original_width")||s.forcedImageWidth>0)&&a(this).data("original_width",a(this).width()),(void 0==a(this).data("original_height")||s.forcedImageHeight>0)&&a(this).data("original_height",a(this).height())})}function g(){s.forcedImageWidth&&s.forcedImageHeight&&t.itemsContainer.find("img").each(function(){a(this).width(s.forcedImageWidth),a(this).height(s.forcedImageHeight)})}function h(){t.itemsContainer.find("img:first");t.calculations[0]={distance:0,offset:0,opacity:1};for(var a=s.horizonOffset,b=s.separation,c=1;c<=s.flankingItems+2;c++)c>1&&(a*=s.horizonOffsetMultiplier,b*=s.separationMultiplier),t.calculations[c]={distance:t.calculations[c-1].distance+b,offset:t.calculations[c-1].offset+a,opacity:t.calculations[c-1].opacity*s.opacityMultiplier};s.edgeFadeEnabled?t.calculations[s.flankingItems+1].opacity=0:t.calculations[s.flankingItems+1]={distance:0,offset:0,opacity:0}}function i(){t.items=t.itemsContainer.find("img");for(var b=0;b<t.totalItems;b++)t.items[b]=a(t.items[b]);0===s.horizon&&("horizontal"===s.orientation?s.horizon=t.containerHeight/2:s.horizon=t.containerWidth/2),t.itemsContainer.css("position","relative").find("img").each(function(){var b,c;"horizontal"===s.orientation?(b=t.containerWidth/2-a(this).data("original_width")/2,c=s.horizon-a(this).data("original_height")/2):(b=s.horizon-a(this).data("original_width")/2,c=t.containerHeight/2-a(this).data("original_height")/2),a(this).css({left:b,top:c,visibility:"visible",position:"absolute","z-index":0,opacity:0}).data({top:c,left:b,oldPosition:0,currentPosition:0,depth:0,opacity:0}).show()})}function j(){s.startingItem=0===s.startingItem?Math.round(t.totalItems/2):s.startingItem,t.rightItemsCount=Math.ceil((t.totalItems-1)/2),t.leftItemsCount=Math.floor((t.totalItems-1)/2),t.carouselRotationsLeft=1,l(t.items[s.startingItem-1],0),t.items[s.startingItem-1].css("opacity",1);for(var a=s.startingItem-1,b=1;b<=t.rightItemsCount;b++)a<t.totalItems-1?a+=1:a=0,t.items[a].css("opacity",1),l(t.items[a],b);for(var a=s.startingItem-1,b=-1;b>=-1*t.leftItemsCount;b--)a>0?a-=1:a=t.totalItems-1,t.items[a].css("opacity",1),l(t.items[a],b)}function k(a,b){var c=Math.abs(b);if(c<s.flankingItems+1)var d=t.calculations[c];else var d=t.calculations[s.flankingItems+1];var e=Math.pow(s.sizeMultiplier,c),f=e*a.data("original_width"),g=e*a.data("original_height"),h=(Math.abs(a.width()-f),Math.abs(a.height()-g),d.offset),i=d.distance;if(b<0&&(i*=-1),"horizontal"==s.orientation)var j=t.containerWidth/2,k=j+i-f/2,l=s.horizon-h-g/2;else var j=t.containerHeight/2,k=s.horizon-h-f/2,l=j+i-g/2;var m;m=0===b?1:d.opacity;var n=s.flankingItems+2-c;a.data("width",f),a.data("height",g),a.data("top",l),a.data("left",k),a.data("oldPosition",a.data("currentPosition")),a.data("depth",n),a.data("opacity",m)}function l(a,b){Math.abs(b)<=s.flankingItems+1?(k(a,b),t.itemsAnimating++,a.css("z-index",a.data().depth).animate({left:a.data().left,width:a.data().width,height:a.data().height,top:a.data().top,opacity:a.data().opacity},t.currentSpeed,s.animationEasing,function(){m(a,b)})):(a.data("currentPosition",b),0===a.data("oldPosition")&&a.css({left:a.data().left,width:a.data().width,height:a.data().height,top:a.data().top,opacity:a.data().opacity,"z-index":a.data().depth}))}function m(a,b){t.itemsAnimating--,a.data("currentPosition",b),0===b&&(t.currentCenterItem=a),0===t.itemsAnimating&&(t.carouselRotationsLeft-=1,t.currentlyMoving=!1,t.carouselRotationsLeft>0?n(0):(t.currentSpeed=s.speed,t.currentCenterItem.addClass(s.activeClassName),!1===t.performingSetup&&(s.movedToCenter(t.currentCenterItem),s.movedFromCenter(t.previousCenterItem)),t.performingSetup=!1,d()))}function n(b){if(!1===t.currentlyMoving){t.currentCenterItem.removeClass(s.activeClassName),t.currentlyMoving=!0,t.itemsAnimating=0,t.carouselRotationsLeft+=b,!0===s.quickerForFurther&&(b>1&&(t.currentSpeed=s.speed/b),t.currentSpeed=t.currentSpeed<100?100:t.currentSpeed);for(var c=0;c<t.totalItems;c++){var d,e=a(t.items[c]),f=e.data("currentPosition");d="forward"==t.currentDirection?f-1:f+1;var g=d>0?t.rightItemsCount:t.leftItemsCount;Math.abs(d)>g&&(d=-1*f,t.totalItems%2==0&&(d+=1)),l(e,d)}}}function o(){var a=t.currentCenterItem.next();return a.length<=0&&(a=t.currentCenterItem.parent().children().first()),a}function p(){var a=t.currentCenterItem.prev();return a.length<=0&&(a=t.currentCenterItem.parent().children().last()),a}function q(a){!1===t.currentlyMoving&&(t.previousCenterItem=t.currentCenterItem,s.movingFromCenter(t.currentCenterItem),"backward"==a?(s.movingToCenter(p()),t.currentDirection="backward"):"forward"==a&&(s.movingToCenter(o()),t.currentDirection="forward")),n(1)}if(this.length>1)return this.each(function(){a(this).waterwheelCarousel(b)}),this;var r=this,s={},t={};return a(this).find("img").bind("click",function(){var b=a(this).data().currentPosition;if(0!=s.imageNav&&!(Math.abs(b)>=s.flankingItems+1||t.currentlyMoving)){t.previousCenterItem=t.currentCenterItem,d(!0),s.autoPlay=0;var c=Math.abs(b);0==b?s.clickedCenter(a(this)):(s.movingFromCenter(t.currentCenterItem),s.movingToCenter(a(this)),b<0?(t.currentDirection="backward",n(c)):b>0&&(t.currentDirection="forward",n(c)))}}),a(this).find("a").bind("click",function(b){var c=0==a(this).find("img").data("currentPosition");if(1===s.linkHandling||2===s.linkHandling&&!c)return b.preventDefault(),!1}),a(document).keydown(function(a){if(s.keyboardNav&&(37===a.which&&"horizontal"==s.orientation||38===a.which&&"vertical"==s.orientation?(d(!0),s.autoPlay=0,q("backward")):(39===a.which&&"horizontal"==s.orientation||40===a.which&&"vertical"==s.orientation)&&(d(!0),s.autoPlay=0,q("forward")),s.keyboardNavOverride&&("horizontal"==s.orientation&&(37===a.which||39===a.which)||"vertical"==s.orientation&&(38===a.which||40===a.which))))return a.preventDefault(),!1}),this.reload=function(b){if("object"==typeof b);else;s=a.extend({},a.fn.waterwheelCarousel.defaults,b),c(),t.itemsContainer.find("img").hide(),g(),e(function(){f(),h(),i(),j()})},this.next=function(){d(!0),s.autoPlay=0,q("forward")},this.prev=function(){d(!0),s.autoPlay=0,q("backward")},this.reload(b),this},a.fn.waterwheelCarousel.defaults={startingItem:1,separation:95,separationMultiplier:.6,horizonOffset:0,horizonOffsetMultiplier:1,sizeMultiplier:.7,opacityMultiplier:.99,horizon:0,flankingItems:3,speed:500,animationEasing:"linear",quickerForFurther:!0,edgeFadeEnabled:!1,linkHandling:2,autoPlay:5500,orientation:"horizontal",activeClassName:"carousel-center",keyboardNav:!1,keyboardNavOverride:!0,imageNav:!0,preloadImages:!0,forcedImageWidth:0,forcedImageHeight:0,movingToCenter:a.noop,movedToCenter:a.noop,clickedCenter:a.noop,movingFromCenter:a.noop,movedFromCenter:a.noop}}(jQuery),$(document).ready(function(){if(window.innerWidth>481){$(".developersteam__slider").waterwheelCarousel()}})});