!function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){function b(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=j),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var d=a(this),e=d.data(B);e||(e=new c(this,b),d.data(B,e))})}function c(b,c){function C(b){if(!(ja()||a(b.target).closest(c.excludedElements,Ra).length>0)){var d,e=b.originalEvent?b.originalEvent:b,f=e.touches,g=f?f[0]:e;return Sa=u,(f?Ta=f.length:!1!==c.preventDefaultEvents&&b.preventDefault(),Ia=0,Ja=null,Pa=null,Ka=0,La=0,Ma=0,Na=1,Oa=0,Qa=qa(),ha(),la(0,g),!f||Ta===c.fingers||c.fingers===s||R()?(Va=za(),2==Ta&&(la(1,f[1]),La=Ma=ta(Ua[0].start,Ua[1].start)),(c.swipeStatus||c.pinchStatus)&&(d=J(e,Sa))):d=!1,!1===d)?(Sa=x,J(e,Sa),d):(c.hold&&(_a=setTimeout(a.proxy(function(){Ra.trigger("hold",[e.target]),c.hold&&(d=c.hold.call(Ra,e,e.target))},this),c.longTapThreshold)),ka(!0),null)}}function D(a){var b=a.originalEvent?a.originalEvent:a;if(Sa!==w&&Sa!==x&&!ia()){var d,e=b.touches,f=e?e[0]:b,g=ma(f);if(Wa=za(),e&&(Ta=e.length),c.hold&&clearTimeout(_a),Sa=v,2==Ta&&(0==La?(la(1,e[1]),La=Ma=ta(Ua[0].start,Ua[1].start)):(ma(e[1]),Ma=ta(Ua[0].end,Ua[1].end),Pa=va(Ua[0].end,Ua[1].end)),Na=ua(La,Ma),Oa=Math.abs(La-Ma)),Ta===c.fingers||c.fingers===s||!e||R()){if(Ja=ya(g.start,g.end),P(a,Ja),Ia=wa(g.start,g.end),Ka=sa(),oa(Ja,Ia),(c.swipeStatus||c.pinchStatus)&&(d=J(b,Sa)),!c.triggerOnTouchEnd||c.triggerOnTouchLeave){var h=!0;if(c.triggerOnTouchLeave){var i=Aa(this);h=Ba(g.end,i)}!c.triggerOnTouchEnd&&h?Sa=I(v):c.triggerOnTouchLeave&&!h&&(Sa=I(w)),Sa!=x&&Sa!=w||J(b,Sa)}}else Sa=x,J(b,Sa);!1===d&&(Sa=x,J(b,Sa))}}function E(a){var b=a.originalEvent?a.originalEvent:a,d=b.touches;if(d){if(d.length&&!ia())return ga(),!0;if(d.length&&ia())return!0}return ia()&&(Ta=Ya),Wa=za(),Ka=sa(),M()||!L()?(Sa=x,J(b,Sa)):c.triggerOnTouchEnd||0==c.triggerOnTouchEnd&&Sa===v?(!1!==c.preventDefaultEvents&&a.preventDefault(),Sa=w,J(b,Sa)):!c.triggerOnTouchEnd&&Y()?(Sa=w,K(b,Sa,n)):Sa===v&&(Sa=x,J(b,Sa)),ka(!1),null}function F(){Ta=0,Wa=0,Va=0,La=0,Ma=0,Na=1,ha(),ka(!1)}function G(a){var b=a.originalEvent?a.originalEvent:a;c.triggerOnTouchLeave&&(Sa=I(w),J(b,Sa))}function H(){Ra.unbind(Da,C),Ra.unbind(Ha,F),Ra.unbind(Ea,D),Ra.unbind(Fa,E),Ga&&Ra.unbind(Ga,G),ka(!1)}function I(a){var b=a,d=O(),e=L(),f=M();return!d||f?b=x:!e||a!=v||c.triggerOnTouchEnd&&!c.triggerOnTouchLeave?!e&&a==w&&c.triggerOnTouchLeave&&(b=x):b=w,b}function J(a,b){var c,d=a.touches;return V()&&U()||S()&&R()?(V()&&U()&&(c=K(a,b,l)),S()&&R()&&!1!==c&&(c=K(a,b,m))):ea()&&!1!==c?c=K(a,b,o):fa()&&!1!==c?c=K(a,b,p):da()&&!1!==c&&(c=K(a,b,n)),b===x&&(U()&&(c=K(a,b,l)),R()&&(c=K(a,b,m)),F(a)),b===w&&(d?d.length||F(a):F(a)),c}function K(b,j,k){var q;if(k==l){if(Ra.trigger("swipeStatus",[j,Ja||null,Ia||0,Ka||0,Ta,Ua]),c.swipeStatus&&!1===(q=c.swipeStatus.call(Ra,b,j,Ja||null,Ia||0,Ka||0,Ta,Ua)))return!1;if(j==w&&T()){if(Ra.trigger("swipe",[Ja,Ia,Ka,Ta,Ua]),c.swipe&&!1===(q=c.swipe.call(Ra,b,Ja,Ia,Ka,Ta,Ua)))return!1;switch(Ja){case d:Ra.trigger("swipeLeft",[Ja,Ia,Ka,Ta,Ua]),c.swipeLeft&&(q=c.swipeLeft.call(Ra,b,Ja,Ia,Ka,Ta,Ua));break;case e:Ra.trigger("swipeRight",[Ja,Ia,Ka,Ta,Ua]),c.swipeRight&&(q=c.swipeRight.call(Ra,b,Ja,Ia,Ka,Ta,Ua));break;case f:Ra.trigger("swipeUp",[Ja,Ia,Ka,Ta,Ua]),c.swipeUp&&(q=c.swipeUp.call(Ra,b,Ja,Ia,Ka,Ta,Ua));break;case g:Ra.trigger("swipeDown",[Ja,Ia,Ka,Ta,Ua]),c.swipeDown&&(q=c.swipeDown.call(Ra,b,Ja,Ia,Ka,Ta,Ua))}}}if(k==m){if(Ra.trigger("pinchStatus",[j,Pa||null,Oa||0,Ka||0,Ta,Na,Ua]),c.pinchStatus&&!1===(q=c.pinchStatus.call(Ra,b,j,Pa||null,Oa||0,Ka||0,Ta,Na,Ua)))return!1;if(j==w&&Q())switch(Pa){case h:Ra.trigger("pinchIn",[Pa||null,Oa||0,Ka||0,Ta,Na,Ua]),c.pinchIn&&(q=c.pinchIn.call(Ra,b,Pa||null,Oa||0,Ka||0,Ta,Na,Ua));break;case i:Ra.trigger("pinchOut",[Pa||null,Oa||0,Ka||0,Ta,Na,Ua]),c.pinchOut&&(q=c.pinchOut.call(Ra,b,Pa||null,Oa||0,Ka||0,Ta,Na,Ua))}}return k==n?j!==x&&j!==w||(clearTimeout($a),clearTimeout(_a),Z()&&!aa()?(Za=za(),$a=setTimeout(a.proxy(function(){Za=null,Ra.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Ra,b,b.target))},this),c.doubleTapThreshold)):(Za=null,Ra.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Ra,b,b.target)))):k==o?j!==x&&j!==w||(clearTimeout($a),Za=null,Ra.trigger("doubletap",[b.target]),c.doubleTap&&(q=c.doubleTap.call(Ra,b,b.target))):k==p&&(j!==x&&j!==w||(clearTimeout($a),Za=null,Ra.trigger("longtap",[b.target]),c.longTap&&(q=c.longTap.call(Ra,b,b.target)))),q}function L(){var a=!0;return null!==c.threshold&&(a=Ia>=c.threshold),a}function M(){var a=!1;return null!==c.cancelThreshold&&null!==Ja&&(a=pa(Ja)-Ia>=c.cancelThreshold),a}function N(){return null===c.pinchThreshold||Oa>=c.pinchThreshold}function O(){return!c.maxTimeThreshold||!(Ka>=c.maxTimeThreshold)}function P(a,b){if(!1!==c.preventDefaultEvents)if(c.allowPageScroll===j)a.preventDefault();else{var h=c.allowPageScroll===k;switch(b){case d:(c.swipeLeft&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case e:(c.swipeRight&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case f:(c.swipeUp&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault();break;case g:(c.swipeDown&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault()}}}function Q(){var a=W(),b=X(),c=N();return a&&b&&c}function R(){return!!(c.pinchStatus||c.pinchIn||c.pinchOut)}function S(){return!(!Q()||!R())}function T(){var a=O(),b=L(),c=W(),d=X();return!M()&&d&&c&&b&&a}function U(){return!!(c.swipe||c.swipeStatus||c.swipeLeft||c.swipeRight||c.swipeUp||c.swipeDown)}function V(){return!(!T()||!U())}function W(){return Ta===c.fingers||c.fingers===s||!y}function X(){return 0!==Ua[0].end.x}function Y(){return!!c.tap}function Z(){return!!c.doubleTap}function $(){return!!c.longTap}function _(){if(null==Za)return!1;var a=za();return Z()&&a-Za<=c.doubleTapThreshold}function aa(){return _()}function ba(){return(1===Ta||!y)&&(isNaN(Ia)||Ia<c.threshold)}function ca(){return Ka>c.longTapThreshold&&Ia<t}function da(){return!(!ba()||!Y())}function ea(){return!(!_()||!Z())}function fa(){return!(!ca()||!$())}function ga(){Xa=za(),Ya=event.touches.length+1}function ha(){Xa=0,Ya=0}function ia(){var a=!1;if(Xa){za()-Xa<=c.fingerReleaseThreshold&&(a=!0)}return a}function ja(){return!(!0!==Ra.data(B+"_intouch"))}function ka(a){!0===a?(Ra.bind(Ea,D),Ra.bind(Fa,E),Ga&&Ra.bind(Ga,G)):(Ra.unbind(Ea,D,!1),Ra.unbind(Fa,E,!1),Ga&&Ra.unbind(Ga,G,!1)),Ra.data(B+"_intouch",!0===a)}function la(a,b){var c={start:{x:0,y:0},end:{x:0,y:0}};return c.start.x=c.end.x=b.pageX||b.clientX,c.start.y=c.end.y=b.pageY||b.clientY,Ua[a]=c,c}function ma(a){var b=void 0!==a.identifier?a.identifier:0,c=na(b);return null===c&&(c=la(b,a)),c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function na(a){return Ua[a]||null}function oa(a,b){b=Math.max(b,pa(a)),Qa[a].distance=b}function pa(a){if(Qa[a])return Qa[a].distance}function qa(){var a={};return a[d]=ra(d),a[e]=ra(e),a[f]=ra(f),a[g]=ra(g),a}function ra(a){return{direction:a,distance:0}}function sa(){return Wa-Va}function ta(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function ua(a,b){return(b/a*1).toFixed(2)}function va(){return Na<1?i:h}function wa(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function xa(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}function ya(a,b){var c=xa(a,b);return c<=45&&c>=0?d:c<=360&&c>=315?d:c>=135&&c<=225?e:c>45&&c<135?g:f}function za(){return(new Date).getTime()}function Aa(b){b=a(b);var c=b.offset();return{left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()}}function Ba(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}var c=a.extend({},c),Ca=y||A||!c.fallbackToMouseEvents,Da=Ca?A?z?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Ea=Ca?A?z?"MSPointerMove":"pointermove":"touchmove":"mousemove",Fa=Ca?A?z?"MSPointerUp":"pointerup":"touchend":"mouseup",Ga=Ca?null:"mouseleave",Ha=A?z?"MSPointerCancel":"pointercancel":"touchcancel",Ia=0,Ja=null,Ka=0,La=0,Ma=0,Na=1,Oa=0,Pa=0,Qa=null,Ra=a(b),Sa="start",Ta=0,Ua={},Va=0,Wa=0,Xa=0,Ya=0,Za=0,$a=null,_a=null;try{Ra.bind(Da,C),Ra.bind(Ha,F)}catch(b){a.error("events not supported "+Da+","+Ha+" on jQuery.swipe")}this.enable=function(){return Ra.bind(Da,C),Ra.bind(Ha,F),Ra},this.disable=function(){return H(),Ra},this.destroy=function(){H(),Ra.data(B,null),Ra=null},this.option=function(b,d){if("object"==typeof b)c=a.extend(c,b);else if(void 0!==c[b]){if(void 0===d)return c[b];c[b]=d}else{if(!b)return c;a.error("Option "+b+" does not exist on jQuery.swipe.options")}return null}}var d="left",e="right",f="up",g="down",h="in",i="out",j="none",k="auto",l="swipe",m="pinch",n="tap",o="doubletap",p="longtap",q="horizontal",r="vertical",s="all",t=10,u="start",v="move",w="end",x="cancel",y="ontouchstart"in window,z=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,A=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,B="TouchSwipe",C={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};a.fn.swipe=function(c){var d=a(this),e=d.data(B);if(e&&"string"==typeof c){if(e[c])return e[c].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(e&&"object"==typeof c)e.option.apply(this,arguments);else if(!(e||"object"!=typeof c&&c))return b.apply(this,arguments);return d},a.fn.swipe.version="1.6.12",a.fn.swipe.defaults=C,a.fn.swipe.phases={PHASE_START:u,PHASE_MOVE:v,PHASE_END:w,PHASE_CANCEL:x},a.fn.swipe.directions={LEFT:d,RIGHT:e,UP:f,DOWN:g,IN:h,OUT:i},a.fn.swipe.pageScroll={NONE:j,HORIZONTAL:q,VERTICAL:r,AUTO:k},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:s}});